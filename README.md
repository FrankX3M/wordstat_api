# ü§ñ Yandex Webmaster Telegram Bot v3.0

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#-–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–¢–∏–ø—ã —ç–∫—Å–ø–æ—Ä—Ç–æ–≤](#-—Ç–∏–ø—ã-—ç–∫—Å–ø–æ—Ä—Ç–æ–≤)
- [–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞](#-–∫–æ–Ω—Ç—Ä–æ–ª—å-–¥–æ—Å—Ç—É–ø–∞)
- [–ö–æ–º–∞–Ω–¥—ã](#-–∫–æ–º–∞–Ω–¥—ã)
- [–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
- [FAQ](#-faq)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

**Yandex Webmaster Telegram Bot** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è SEO-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ –≤–µ–±-–º–∞—Å—Ç–µ—Ä–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä–∞ –ø—Ä—è–º–æ –≤ Telegram.

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —ç—Ç–æ—Ç –±–æ—Ç?

- üì± **–ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø** ‚Äî —Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å –í–µ–±–º–∞—Å—Ç–µ—Ä–æ–º –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞
- ‚ö° **–ë—ã—Å—Ç—Ä—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã** ‚Äî –ø–æ–ª—É—á–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤
- üìä **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤** ‚Äî CSV, Excel, JSON –Ω–∞ –≤—ã–±–æ—Ä
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ Telegram ID
- ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –≤—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –≤ —Å–≤–æ–∏ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** ‚Äî –¢–û–ü –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤** ‚Äî –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –¥–Ω—è–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** ‚Äî –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî —Ä–∞—Å—á–µ—Ç —Ç—Ä–µ–Ω–¥–æ–≤ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç** ‚Äî –¥–æ 1,000 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø–æ–∏—Å–∫–µ** ‚Äî —Å–ø–∏—Å–æ–∫ URL –≤ –∏–Ω–¥–µ–∫—Å–µ
- ‚úÖ **–°–æ–±—ã—Ç–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è

### üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- ‚úÖ **–ê–Ω–∞–ª–∏–∑ Clean-param** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è robots.txt
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** ‚Äî –≥–∏–±–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** ‚Äî –≥–æ—Ç–æ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

### üìà –§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

- üìÑ **CSV** ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- üìä **Excel (XLSX)** ‚Äî —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∞–≤—Ç–æ—Ñ–∏–ª—å—Ç—Ä–æ–º
- üìã **JSON** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- üîê **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞** ‚Äî –ø–æ Telegram ID
- üìù **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

## üíª –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ

- **Python:** 3.9 –∏–ª–∏ –≤—ã—à–µ
- **–û–°:** Linux, macOS, Windows 10+
- **RAM:** 512 MB
- **–î–∏—Å–∫:** 500 MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ

- **Python:** 3.11+
- **–û–°:** Ubuntu 22.04 LTS
- **RAM:** 1 GB
- **–î–∏—Å–∫:** 2 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
chmod +x setup.sh
./setup.sh

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd webmaster_bot

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
chmod +x install.sh
./install.sh

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω—ã
nano .env
# –î–æ–±–∞–≤—å—Ç–µ TELEGRAM_BOT_TOKEN –∏ YANDEX_ACCESS_TOKEN, –∞ —Ç–∞–∫–∂–µ ALLOWED_USER_IDS –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
./start.sh
```

**–ì–æ—Ç–æ–≤–æ! üéâ** –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

–°–∫—Ä–∏–ø—Ç `setup.sh` —Å–æ–∑–¥–∞—Å—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```bash
chmod +x setup.sh
./setup.sh
```

–ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `webmaster_bot/` —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
webmaster_bot/
‚îú‚îÄ‚îÄ bot.py                 # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ middleware.py          # –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ install.sh            # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ start.sh              # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ start.py          # /start, /help
‚îÇ   ‚îú‚îÄ‚îÄ hosts.py          # –†–∞–±–æ—Ç–∞ —Å —Å–∞–π—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ export.py         # –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ auth.py           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ stats.py          # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ clean_param.py    # –ê–Ω–∞–ª–∏–∑ Clean-param
‚îú‚îÄ‚îÄ services/             # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.py            # Yandex Webmaster API
‚îÇ   ‚îú‚îÄ‚îÄ export.py         # –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ clean_param.py    # –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îú‚îÄ‚îÄ database/             # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ models.py         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ keyboards/            # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ menu.py           # –ú–µ–Ω—é –∏ –∫–Ω–æ–ø–∫–∏
‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ logger.py         # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ states/              # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ export.py         # –°–æ—Å—Ç–æ—è–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îú‚îÄ‚îÄ exports/             # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ logs/                # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è)
‚îî‚îÄ‚îÄ tests/               # –¢–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd webmaster_bot
chmod +x install.sh
./install.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `venv/`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `.env` –∏–∑ —à–∞–±–ª–æ–Ω–∞

**–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```
aiogram==3.22.0           # Telegram Bot Framework
aiohttp>=3.9.0            # HTTP –∫–ª–∏–µ–Ω—Ç
requests>=2.31.0          # HTTP –∑–∞–ø—Ä–æ—Å—ã
sqlalchemy>=2.0.0         # ORM –¥–ª—è –ë–î
aiosqlite>=0.19.0         # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è SQLite
python-dotenv>=1.0.0      # –†–∞–±–æ—Ç–∞ —Å .env
pandas>=2.1.0             # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python-json-logger>=2.0.0 # JSON –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
colorlog>=6.8.0           # –¶–≤–µ—Ç–Ω—ã–µ –ª–æ–≥–∏
python-dateutil>=2.8.0    # –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
openpyxl>=3.1.0          # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
aiocache>=0.12.2         # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install --upgrade pip
pip install -r requirements.txt

# –°–æ–∑–¥–∞–Ω–∏–µ .env
cp .env.example .env
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram Bot Token

1. –ù–∞–π–¥–∏—Ç–µ –≤ Telegram: [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: `/newbot`
3. –£–∫–∞–∂–∏—Ç–µ –∏–º—è: `My Webmaster Bot`
4. –£–∫–∞–∂–∏—Ç–µ username: `my_webmaster_bot`
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (—Ñ–æ—Ä–º–∞—Ç: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ Yandex OAuth Token

#### –°–ø–æ—Å–æ–± 1: OAuth-—Å–µ—Ä–≤–∏—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: [https://oauth.yandex.ru/](https://oauth.yandex.ru/)
2. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** `Webmaster Bot`
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:** –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã
   - **Redirect URI:** `https://oauth.yandex.ru/verification_code`
4. –í —Ä–∞–∑–¥–µ–ª–µ **"–î–æ—Å—Ç—É–ø—ã"** –≤—ã–±–µ—Ä–∏—Ç–µ:
   - ‚úÖ `–Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä` ‚Üí `webmaster:read`
5. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client ID**
6. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:
   ```
   https://oauth.yandex.ru/authorize?response_type=token&client_id=–í–ê–®_CLIENT_ID
   ```
7. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∏ **—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** –∏–∑ URL

### 3. –£–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID

1. –ù–∞–π–¥–∏—Ç–µ –≤ Telegram: [@userinfobot](https://t.me/userinfobot)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞—à–∏–º ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
nano .env
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```env
# ===== –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ =====

# –¢–æ–∫–µ–Ω –æ—Ç @BotFather
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# OAuth —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å
YANDEX_ACCESS_TOKEN=AQAAAAABbbbbCCCCddddEEEEffffGGGG

# ===== –ö–û–ù–¢–†–û–õ–¨ –î–û–°–¢–£–ü–ê =====

# –õ–∏—á–Ω—ã–π –±–æ—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å)
ALLOWED_USER_IDS=123456789

# –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ë–ï–ó –ø—Ä–æ–±–µ–ª–æ–≤)
# ALLOWED_USER_IDS=123456789,987654321,555666777

# –û—Ç–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø!)
# ALLOWED_USER_IDS=

# ===== –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ =====

DATABASE_URL=sqlite+aiosqlite:///webmaster_bot.db
MAX_EXPORT_ROWS=10000
DEFAULT_PAGE_SIZE=100
RETRY_ATTEMPTS=3
RETRY_DELAY=5
LOG_LEVEL=INFO
LOG_TO_FILE=True
LOG_TO_CONSOLE=True
ADMIN_USER_IDS=123456789
ENABLE_ANALYTICS=True
CACHE_TTL=3600
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª:**
- `Ctrl + X` ‚Üí `Y` ‚Üí `Enter`

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
python3 config.py
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

```
‚úÖ Yandex Webmaster Bot v3.1.0
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
üìä API Base URL: https://api.webmaster.yandex.net/v4
üìä Database: webmaster_bot.db
üìä Log Level: INFO
üìä Exports Dir: exports
üîê Access Control: ENABLED
üîê Allowed Users: 1
```

---

## ‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
./start.sh
```

–∏–ª–∏

```bash
source venv/bin/activate
python3 bot.py
```

### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫

```
============================================================
üöÄ Yandex Webmaster Bot v3.1.0 starting...
============================================================
‚úÖ Database initialized
‚úÖ Bot connected: @your_webmaster_bot
   Bot ID: 123456789
   Bot Name: My Webmaster Bot
============================================================
üîê ACCESS CONTROL ENABLED
   Allowed users: 1
   User IDs: [123456789]
============================================================
‚úÖ Middleware registered:
   - LoggingMiddleware
   - AccessControlMiddleware
‚úÖ Bot is ready to accept messages
============================================================
```

### –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –ø–æ username
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã

---

## üìä –¢–∏–ø—ã —ç–∫—Å–ø–æ—Ä—Ç–æ–≤

### üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–ø–∏—Å–æ–∫ –¢–û–ü –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

**–î–∞–Ω–Ω—ã–µ:**
- –¢–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞
- –ü–æ–∫–∞–∑—ã
- –ö–ª–∏–∫–∏
- CTR
- –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–õ–∏–º–∏—Ç:** –î–æ 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤

---

### üìà –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–∏–Ω–∞–º–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ –¢–û–ü-100 –∑–∞–ø—Ä–æ—Å–∞–º

**–î–∞–Ω–Ω—ã–µ:**
- –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ "–ü–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤"
- –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –¥–Ω—è–º
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–õ–∏–º–∏—Ç:** –¢–û–ü-100 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π

---

### üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º

**–î–∞–Ω–Ω—ã–µ:**
- –î–∞—Ç–∞
- –°—É–º–º–∞—Ä–Ω—ã–µ –ø–æ–∫–∞–∑—ã/–∫–ª–∏–∫–∏ –∑–∞ –¥–µ–Ω—å
- –°—Ä–µ–¥–Ω–∏–π CTR
- –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –û–±—â–∏–π –æ–±–∑–æ—Ä —Ç—Ä–∞—Ñ–∏–∫–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ë–µ–∑ —Ä–∞–∑–±–∏–≤–∫–∏ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º

---

### üî¨ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–û–ü-200 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ä–∞—Å—á–µ—Ç–æ–º —Ç—Ä–µ–Ω–¥–æ–≤

**–î–∞–Ω–Ω—ã–µ:**
- –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –†–∞—Å—á–µ—Ç —Ç—Ä–µ–Ω–¥–æ–≤ –≤ %
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–õ–∏–º–∏—Ç:** –¢–û–ü-200 –∑–∞–ø—Ä–æ—Å–æ–≤

---

### üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

**–î–∞–Ω–Ω—ã–µ:**
- –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∞
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–õ–∏–º–∏—Ç:** –î–æ 1,000 –∑–∞–ø—Ä–æ—Å–æ–≤

---

### üîó –°—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø–æ–∏—Å–∫–µ

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–ø–∏—Å–æ–∫ URL –≤ –∏–Ω–¥–µ–∫—Å–µ –Ø–Ω–¥–µ–∫—Å–∞

**–î–∞–Ω–Ω—ã–µ:**
- URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ó–∞–≥–æ–ª–æ–≤–æ–∫
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ê—É–¥–∏—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ –¥–∞—Ç

---

### üìã –°–æ–±—ã—Ç–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å—Ç–æ—Ä–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü

**–î–∞–Ω–Ω—ã–µ:**
- URL
- –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (APPEARED/EXCLUDED)
- –î–∞—Ç–∞
- –ü—Ä–∏—á–∏–Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- HTTP –∫–æ–¥
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π URL

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ –¥–∞—Ç

---

### üîß –ê–Ω–∞–ª–∏–∑ Clean-param

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è robots.txt

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ URL –∏–∑ –ø–æ–∏—Å–∫–∞
2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç GET-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. –ß–∏—Ç–∞–µ—Ç —Ç–µ–∫—É—â–∏–π robots.txt
4. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç (TXT)
- –î–∏—Ä–µ–∫—Ç–∏–≤–∞ Clean-param (TXT)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (CSV)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ –¥–∞—Ç

---

## üîê –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

#### 1. –õ–∏—á–Ω—ã–π –±–æ—Ç

```env
ALLOWED_USER_IDS=123456789
```

‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å  
‚úÖ –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —É –≤–∞—Å

#### 2. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –±–æ—Ç

```env
ALLOWED_USER_IDS=123456789,987654321,555666777
```

‚úÖ –î–æ—Å—Ç—É–ø –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º  
‚ö†Ô∏è –í—Å–µ –≤–∏–¥—è—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ

#### 3. –û—Ç–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø

```env
ALLOWED_USER_IDS=
```

‚ùå **–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø!**  
‚ùå –õ—é–±–æ–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. –£–∑–Ω–∞–π—Ç–µ –µ–≥–æ Telegram ID ([@userinfobot](https://t.me/userinfobot))
2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞ (`Ctrl + C`)
3. –î–æ–±–∞–≤—å—Ç–µ ID –≤ `.env`:

```env
# –ë—ã–ª–æ
ALLOWED_USER_IDS=123456789

# –°—Ç–∞–ª–æ
ALLOWED_USER_IDS=123456789,999888777
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å–Ω–æ–≤–∞

**–í–∞–∂–Ω–æ:** ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é **–ë–ï–ó –ø—Ä–æ–±–µ–ª–æ–≤**

---

## üí¨ –ö–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º |
| `/hosts` | –°–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö —Å–∞–π—Ç–æ–≤ |
| `/auth` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| `/token` | –ü—Ä–æ–≤–µ—Ä–∫–∞ OAuth —Ç–æ–∫–µ–Ω–∞ |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| `/diagnose` | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã |

### –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/admin_stats` | –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞ |

**–î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ `ADMIN_USER_IDS`**
